<div class="header bg-color-1"
     [ngClass]="{'position-absolute h-100 w-100 header-nav-drawer': (breakpointObserver.isMobile$ | async) && menuOpen}">
  <div class="container-fluid">
    <div class="container">
      <div class="py-3">
        <div class="row">
          <ng-container *ngIf="breakpointObserver.isMobile$ | async; else desktopHeader">
            <div class="col-12">
              <i class="material-icons font-size-l text-white" (click)="toggleMenu()">
                {{ menuOpen ? 'close' : 'menu' }}
              </i>
              <a class="font-size-l text-white font-weight-bold ml-1" [routerLink]="['/']">
                Machbarschaft
              </a>
            </div>
          </ng-container>
          <ng-template #desktopHeader>
            <div class="col-auto">
              <a class="font-size-l text-white font-weight-bold mr-5" [routerLink]="['/']">
                Machbarschaft
              </a>
            </div>
            <div class="col">
              <div>
                <a *ngIf="isAuthenticated" [routerLink]="['help-request']" [routerLinkActiveOptions]="{ exact: true }"
                   [routerLinkActive]="['font-weight-bold']" class="mr-5 text-white">
                  {{ 'menu.overview' | translate }}
                </a>
                <a *ngIf="isAuthenticated" [routerLink]="['help-request/create']"
                   [routerLinkActive]="['font-weight-bold']" class="mr-5 text-white">
                  {{ 'menu.create-help-request' | translate }}
                </a>
                <a *ngIf="isAuthenticated" [routerLink]="['roles']"
                   [routerLinkActive]="['font-weight-bold']" class="mr-5 text-white">
                  {{ 'menu.edit-roles' | translate }}
                </a>
                <a *ngIf="isAuthenticated" [routerLink]="['user']"
                   [routerLinkActive]="['font-weight-bold']" class="mr-5 text-white">
                  {{ 'menu.profile' | translate }}
                </a>
                <a *ngIf="!isAuthenticated" [routerLink]="['login']"
                   [routerLinkActive]="['font-weight-bold']" class="text-white">
                  {{ 'menu.login' | translate }}
                </a>
                <button button-secondary *ngIf="isAuthenticated" (click)="logout()" class="ml-3">
                  {{ 'menu.logout' | translate }}
                </button>
              </div>
            </div>
            <div class="col-auto">
              <div class="d-inline-block text-white text-right">
                <span class="cursor-pointer" (click)="changeLanguage('de')" [ngClass]="{'font-weight-bold': language === 'de'}">
                  DE
                </span>
                <span>|</span>
                <span class="cursor-pointer" (click)="changeLanguage('en')" [ngClass]="{'font-weight-bold': language === 'en'}">
                  EN
                </span>
              </div>
            </div>
          </ng-template>
        </div>
      </div>
      <ng-container *ngIf="menuOpen">
          <button *ngIf="isAuthenticated" button-light class="w-100 mb-3" (click)="navigate('help-request')">
            {{ 'menu.overview' | translate }}
          </button>
          <button *ngIf="isAuthenticated" button-light class="w-100 mb-3" (click)="navigate('help-request/create')">
            {{ 'menu.create-help-request' | translate }}
          </button>
          <button *ngIf="isAuthenticated" button-light class="w-100 mb-3" (click)="navigate('roles')">
            {{ 'menu.edit-roles' | translate }}
          </button>
          <button *ngIf="isAuthenticated" button-light class="w-100 mb-3" (click)="navigate('user')">
            {{ 'menu.profile' | translate }}
          </button>
          <button *ngIf="!isAuthenticated" button-light class="w-100 mb-3" (click)="navigate('login')">
            {{ 'menu.login' | translate }}
          </button>
          <button *ngIf="isAuthenticated" button-secondary class="w-100" (click)="logout()">
            {{ 'menu.logout' | translate }}
          </button>
          <div class="w-100 text-center text-white font-size-m mt-3">
            <span class="cursor-pointer" (click)="changeLanguage('de')" [ngClass]="{'font-weight-bold': language === 'de'}">
              {{ 'menu.language.de' | translate | uppercase }}
            </span>
            <span>|</span>
            <span class="cursor-pointer" (click)="changeLanguage('en')" [ngClass]="{'font-weight-bold': language === 'en'}">
              {{ 'menu.language.en' | translate | uppercase }}
            </span>
          </div>
      </ng-container>
    </div>
  </div>
</div>
